#!/usr/bin/python
#!/bin/bash
import numpy as np
from numpy import arange
import os
import math
import numpy

#CHEMBL_dataset = ['CHEMBL1075145', 'CHEMBL1075165', 'CHEMBL1163101', 'CHEMBL1293266', 'CHEMBL1628481', 'CHEMBL1681611', 'CHEMBL1741208', 'CHEMBL1741221', 'CHEMBL1792', 'CHEMBL1804', 'CHEMBL1811', 'CHEMBL1821', 'CHEMBL1832', 'CHEMBL1836', 'CHEMBL1850', 'CHEMBL1853', 'CHEMBL1859', 'CHEMBL1865', 'CHEMBL1867', 'CHEMBL1875', 'CHEMBL1881', 'CHEMBL1898', 'CHEMBL1901', 'CHEMBL1903', 'CHEMBL1904', 'CHEMBL1917', 'CHEMBL1918', 'CHEMBL1940', 'CHEMBL1945', 'CHEMBL1946', 'CHEMBL1980', 'CHEMBL1983', 'CHEMBL1985', 'CHEMBL2001', 'CHEMBL2028', 'CHEMBL2039', 'CHEMBL2049', 'CHEMBL2056', 'CHEMBL2069156', 'CHEMBL2072', 'CHEMBL210', 'CHEMBL211', 'CHEMBL213', 'CHEMBL214', 'CHEMBL216', 'CHEMBL217', 'CHEMBL218', 'CHEMBL2182', 'CHEMBL219', 'CHEMBL222', 'CHEMBL224', 'CHEMBL225', 'CHEMBL226', 'CHEMBL228', 'CHEMBL2321613', 'CHEMBL2321621', 'CHEMBL233', 'CHEMBL2334', 'CHEMBL234', 'CHEMBL236', 'CHEMBL238', 'CHEMBL2414', 'CHEMBL2434', 'CHEMBL245', 'CHEMBL246', 'CHEMBL2468', 'CHEMBL2492', 'CHEMBL253', 'CHEMBL256', 'CHEMBL2581', 'CHEMBL2721', 'CHEMBL2736', 'CHEMBL2842', 'CHEMBL2888', 'CHEMBL2954', 'CHEMBL2955', 'CHEMBL3009', 'CHEMBL3085', 'CHEMBL3130', 'CHEMBL3145', 'CHEMBL3155', 'CHEMBL3157', 'CHEMBL3227', 'CHEMBL3230', 'CHEMBL3267', 'CHEMBL3371', 'CHEMBL3426', 'CHEMBL3473', 'CHEMBL3582', 'CHEMBL3710', 'CHEMBL3772', 'CHEMBL3776', 'CHEMBL3785', 'CHEMBL3798', 'CHEMBL3819', 'CHEMBL3830', 'CHEMBL3837', 'CHEMBL3880', 'CHEMBL3892', 'CHEMBL3911', 'CHEMBL3984', 'CHEMBL3988599', 'CHEMBL4018', 'CHEMBL4045', 'CHEMBL4072', 'CHEMBL4123', 'CHEMBL4261', 'CHEMBL4282', 'CHEMBL4296', 'CHEMBL4333', 'CHEMBL4361', 'CHEMBL4461', 'CHEMBL4478', 'CHEMBL4501', 'CHEMBL4506', 'CHEMBL4523357', 'CHEMBL4523430', 'CHEMBL4607', 'CHEMBL4616', 'CHEMBL4625', 'CHEMBL4641', 'CHEMBL4708', 'CHEMBL4777', 'CHEMBL4792', 'CHEMBL4898', 'CHEMBL4973', 'CHEMBL5014', 'CHEMBL5112', 'CHEMBL5137', 'CHEMBL5408', 'CHEMBL5451', 'CHEMBL5464', 'CHEMBL5558', 'CHEMBL5619', 'CHEMBL5845', 'CHEMBL240']
CHEMBL_dataset = ['CHEMBL216','CHEMBL1801','CHEMBL1836','CHEMBL1856','CHEMBL1995','CHEMBL2047','CHEMBL2068','CHEMBL2073','CHEMBL2083','CHEMBL2085', 'CHEMBL2107',
			'CHEMBL2147', 'CHEMBL2319', 'CHEMBL2434', 'CHEMBL2525', 'CHEMBL2593', 'CHEMBL2717' , 'CHEMBL2730' , 'CHEMBL2778' ,'CHEMBL2789' , 'CHEMBL2889' , 'CHEMBL2959', 'CHEMBL3018',
			'CHEMBL3060' , 'CHEMBL3100', 'CHEMBL3106', 'CHEMBL3119' , 'CHEMBL3194', 'CHEMBL3286', 'CHEMBL3359' ,'CHEMBL3401', 'CHEMBL3475' , 'CHEMBL3572',
			'CHEMBL3650','CHEMBL3785', 'CHEMBL3869', 'CHEMBL4029', 'CHEMBL4073', 'CHEMBL4076', 'CHEMBL4223', 'CHEMBL4306', 'CHEMBL4394', 'CHEMBL4409', 'CHEMBL4427', 'CHEMBL4462',
			'CHEMBL4507', 'CHEMBL4607', 'CHEMBL4616', 'CHEMBL4691', 'CHEMBL4767', 'CHEMBL4789', 'CHEMBL4835', 'CHEMBL5247', 'CHEMBL5314', 'CHEMBL5319', 'CHEMBL5378',
			'CHEMBL5398', 'CHEMBL5480', 'CHEMBL5493', 'CHEMBL5918', 'CHEMBL6003', 'CHEMBL6007', 'CHEMBL1250348', 'CHEMBL1293255', 'CHEMBL1293293', 'CHEMBL1741179', 'CHEMBL1741186',
			'CHEMBL1741200', 'CHEMBL1741213', 'CHEMBL2424504', 'CHEMBL3392948', 'CHEMBL3714079']

CHEMBL_dataset2 = ['CHEMBL1']
###for i in range(len(CHEMBL_dataset)):
for i in range(len(CHEMBL_dataset)):
    target_ID_input = CHEMBL_dataset[i]
    for j in range(len(CHEMBL_dataset2)):
        target_ID_input2 = CHEMBL_dataset2[j]
        feature_ID = 'ba'
        f = open('%s_%s_%s.pbs'%(target_ID_input,target_ID_input2,feature_ID), 'w')
        f.write('#!/bin/bash\n')
        f.write('#PBS -q batch\n')
        f.write('########## Define Resources Needed with PBS Lines ##########\n')
        f.write('#PBS -l walltime=10000:00:00\n')
        f.write('#PBS -l nodes=node05:ppn=1\n')
        f.write('#PBS -l mem=2gb\n')
        f.write('#PBS -o /public/home/chenlong666/Chunhuanzhang/prediction_result/%s_%s_%s.out\n'%(target_ID_input,target_ID_input2,feature_ID))
        f.write('#PBS -e /public/home/chenlong666/Chunhuanzhang/prediction_result/%s_%s_%s.err\n'%(target_ID_input,target_ID_input2,feature_ID))
        f.write('cd /public/home/chenlong666/Chunhuanzhang/prediction_result')
        f.write('\n')
        #f.write('module load python/conda/3.9\n')
        f.write('source /public/home/chenlong666/anaconda3/bin/activate pre-gpu\n')
        f.write('python BA_value_fei_SVM_con.py %s %s' % (target_ID_input,target_ID_input2))
        f.close()
        cmd = 'qsub %s_%s_%s.pbs'%(target_ID_input,target_ID_input2,feature_ID)
        os.system(cmd)
